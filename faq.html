<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Dec 10, 2012
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20121210" />
    <meta http-equiv="Content-Language" content="en" />
    <title>MapDB - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

                          
        
<script src="js/jquery.min.js"></script>
                      
        
<script src="js/app.js"></script>
          
            </head>
        <body class="topBarEnabled">
          
    
    
            
    
        
    <a href="http://github.com/JanKotek/MapDB">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                        
                    
                

    <div id="topbar" class="navbar navbar-fixed-top navbar-inverse">
      <div class="navbar-inner">
                                  <div class="container"><div class="nav-collapse">
            
                
                                                                                <a class="brand" href="index.html"  title="MapDB">

                                
                                                                                                                    <img src="images/logo.png" alt="MapDB" />
                
                </a>
                    
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Introduction <b class="caret"></b></a>
        <ul class="dropdown-menu">
                </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Maven 2.0 <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="Introduction">Introduction</a>
</li>
                  
                      <li>      <a href="download.html"  title="Download">Download</a>
</li>
                  
                      <li>      <a href="release-notes.html"  title="Release Notes">Release Notes</a>
</li>
                  
                      <li>      <a href="about.html"  title="General Information">General Information</a>
</li>
                  
                      <li>      <a href="maven1.html"  title="For Maven 1.x Users">For Maven 1.x Users</a>
</li>
                  
                      <li>      <a href="roadmap.html"  title="Road Map">Road Map</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="index.html"  title="About">About</a>
</li>
                                  <li>      <a href="team-list.html"  title="Project Team">Project Team</a>
</li>
                                  <li>      <a href="dependency-info.html"  title="Dependency Information">Dependency Information</a>
</li>
                                  <li>      <a href="plugins.html"  title="Project Plugins">Project Plugins</a>
</li>
                                  <li>      <a href="integration.html"  title="Continuous Integration">Continuous Integration</a>
</li>
                                  <li>      <a href="issue-tracking.html"  title="Issue Tracking">Issue Tracking</a>
</li>
                                  <li>      <a href="source-repository.html"  title="Source Repository">Source Repository</a>
</li>
                                  <li>      <a href="license.html"  title="Project License">Project License</a>
</li>
                                  <li>      <a href="plugin-management.html"  title="Plugin Management">Plugin Management</a>
</li>
                                  <li>      <a href="distribution-management.html"  title="Distribution Management">Distribution Management</a>
</li>
                                  <li>      <a href="project-summary.html"  title="Project Summary">Project Summary</a>
</li>
                                  <li>      <a href="mail-lists.html"  title="Mailing Lists">Mailing Lists</a>
</li>
                                  <li>      <a href="dependencies.html"  title="Dependencies">Dependencies</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="project-reports.html"  title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="apidocs/index.html"  title="JavaDocs">JavaDocs</a>
</li>
                                  <li>      <a href="testapidocs/index.html"  title="Test JavaDocs">Test JavaDocs</a>
</li>
                                  <li>      <a href="surefire-report.html"  title="Surefire Report">Surefire Report</a>
</li>
                                  <li>      <a href="pmd.html"  title="PMD Report">PMD Report</a>
</li>
                                  <li>      <a href="cpd.html"  title="CPD Report">CPD Report</a>
</li>
                                  <li>      <a href="findbugs.html"  title="FindBugs Report">FindBugs Report</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                  </ul>
          
                      <form id="search-form" action="http://www.google.com/search" method="get"  class="navbar-search pull-right" >
    
  <input value="www.mapdb.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
                                                              
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MapDB</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2012-12-10</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 0.9-SNAPSHOT</li>
                      
                
            
      
                            </ul>
      </div>

      
                
        <div id="bodyColumn" >
                                  
            <h1>Frequently Asked Questions</h1>

<h2>Troubleshooting</h2>

<p>MapDB uses chained exception so user does not have to write try catch blocks.
IOException is usually wrapped in IOError which is unchecked. So please always check root exception in chain.</p>

<h3>java.lang.OutOfMemoryError: Map failed</h3>

<p>MapDB can not map file into memory. Make sure you are using latest JVM (7+).
This is common problem on Windows (use Linux). Workaround is to use slower RandomAccessFile mode: <code>DBMaker.newRandomAccessFileDB(file)</code></p>

<h3>InternalError, Error, AssertionFailedError, IllegalArgumentException, StackOverflowError and so on** -</h3>

<p>There was an problem in MapDB. Maybe store was corrupted thanks to an internal error or disk failure.
Disabling cache  <code>DBMaker.cacheDisable()</code> or async writes <code>DBMaker.asyncWriteDisable()</code> may workaround the problem.
Please <a href="https://github.com/jankotek/MapDB/issues/new">create new bug report</a> with code to reproduce this issue.</p>

<h3>OutOfMemoryError: GC overhead limit exceeded</h3>

<p>Your app is creating new object instances faster then GC can collect them. This assertion is triggered if Garbage Collection consumes 98% of all CPU time.
Tune Instance Cache settings and optimize your serialization. 
You may also increase heap size by <code>-Xmx3G</code> switch. Workaround is to disable this assertion by JVM switch <code>-XX:-UseGCOverheadLimit</code></p>

<h3>Can not delete db files on Windows</h3>

<p>MapDB uses memory mapped files, Windows locks them exclusively and prevents deletion. Solution is to close MapDB properly before JVM exits. 
Make sure you have lattest JVM.  Workaround: Use slower RandomAccessFile mode: <code>DBMaker.newRandomAccessFileDB(file)</code>
Also restarting Windows may help. </p>

<h3>Computer becomes very slow during DB writes</h3>

<p>MapDB uses all available CPU to speedup writes. Try to insert Thread.sleep(1) into your code, or set lower thread priority.</p>

<h3>File locking, OverlappingFileLockException, some IOError</h3>

<p>You are trying to open file already opened by another MapDB. Make sure that you <code>DB.close()</code> store correctly.
Some operating systems (Windows) may leave file lock even after JVM is terminated.
You may also try to open database in read-only mode.</p>

<h3>Strange behavior in collections</h3>

<p>Maps and Sets in MapDB should be drop-in replacement for <code>java.util</code> collections. So any significant difference is a bug.
Please <a href="https://github.com/jankotek/MapDB/issues/new">create new bug report</a> with code to reproduce issue.</p>

<h3>Hard to replicate issues</h3>

<p>If you ran into hard to replicate problem (race condition, sneak data corruption),
I would strongly suggest to record JVM execution with <a href="http://www.chrononsystems.com/learn-more/products-overview">Chronon</a> 
and submit the record together with a bug report. Thanks to Chronon we can replicate and fix issues at light speed.</p>

                  </div>
          </div>

    <hr/>

    <footer>
            <div class="container">
              <div class="row span12">Copyright &copy;                   2012.
          All Rights Reserved.      
            
      </div>

        
                <p id="poweredBy" class="pull-right">
                          <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
              </p>
        
                </div>
    </footer>
  </body>
</html>
